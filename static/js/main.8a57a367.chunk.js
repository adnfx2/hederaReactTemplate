(this["webpackJsonphedera-hashgraph-test"]=this["webpackJsonphedera-hashgraph-test"]||[]).push([[0],{133:function(e,t){},159:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n(15),o=n.n(r),i=n(208),s=n(210),u=n(44),d=n(205),l=n.p+"static/media/hedera-logo.18b7f40e.svg",j=Object(d.a)({logo:{maxWidth:64,paddingRight:10}}),b=function(){var e=j();return Object(c.jsx)(i.a,{position:"static",color:"default",elevation:0,children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)("img",{src:l,alt:"Hedera",className:e.logo}),Object(c.jsx)(u.a,{variant:"h6",children:"HEDERA TEMPLATE"})]})})},O=n(8),h=n(219),f=n(220),x=n(221),v=n(166),p=n(107),g=n(216),m=n(23),C=n(69),y=n(225),A=n(211),I=n(212),S=n(213),w=n(169),k=n(163),T=n(164),B=n(165),E=n(108),R=n(91),q=n.n(R),H=n(92),D=n.n(H),P=n(67),W=n.n(P),K=Object(d.a)((function(e){return{listItem:{minWidth:240},deleteButton:{"&:hover":{color:e.palette.error.dark}}}})),L=function(e){var t=e.handleAddAccount,n=Object(a.useState)(!1),r=Object(O.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)(""),u=Object(O.a)(s,2),d=u[0],l=u[1],j=Object(a.useState)(""),b=Object(O.a)(j,2),h=b[0],f=b[1],x=function(){return i(!1)},v=!(d&&h);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(A.a,{button:!0,onClick:function(){return i(!0)},children:[Object(c.jsx)(I.a,{children:Object(c.jsx)(y.a,{children:Object(c.jsx)(D.a,{})})}),Object(c.jsx)(S.a,{primary:"Add account"})]}),Object(c.jsxs)(w.a,{open:o,onClose:x,children:[Object(c.jsx)(k.a,{children:"Add account"}),Object(c.jsxs)(T.a,{children:[Object(c.jsx)(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"accoundId",label:"Hedera account ID",name:"AccountId",onChange:function(e){var t=e.target.value;l(t)},value:d}),Object(c.jsx)(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"privateKey",label:"Private Key",name:"PrivateKey",onChange:function(e){var t=e.target.value;f(t)},value:h})]}),Object(c.jsx)(B.a,{children:Object(c.jsx)(p.a,{disabled:v,variant:"contained",color:"primary",type:"submit",onClick:function(){t(d,h),l(""),f(""),x()},children:"Done!"})})]})]})},N=function(e){var t=e.walletKeys,n=e.handleSelectAccount,a=e.handleDeleteAccount,r=Object(C.a)(e,["walletKeys","handleSelectAccount","handleDeleteAccount"]),o=K(),i=t.accountId;return Object(c.jsxs)(A.a,Object(m.a)(Object(m.a)({className:o.listItem,button:!0,onClick:function(){return n(t)}},r),{},{children:[Object(c.jsx)(I.a,{children:Object(c.jsx)(y.a,{children:Object(c.jsx)(W.a,{seed:i})})}),Object(c.jsx)(S.a,{primary:i}),Object(c.jsx)(q.a,{className:o.deleteButton,onClick:a})]}),i)},M=n(19),F=function(e,t){switch(t.type){case"accountAdded":var n=e.accountsList,c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{accountsList:[].concat(Object(M.a)(n),[c])});case"accountDeleted":var a=e.accountsList,r=t.payload,o=a.filter((function(e){return e.accountId!==r}));return Object(m.a)(Object(m.a)({},e),{},{accountsList:o});case"accountSelectionChanged":var i=t.payload||{};return Object(m.a)(Object(m.a)({},e),{},{accountSelected:i});default:throw new Error("Unhandled actionType: ".concat(t.type))}},J=Object(a.createContext)(),z=Object(a.createContext)(),G=function(e){var t=e.children,n={accountSelected:{},accountsList:[{accountId:"0.0.247469",privateKey:"302e020100300506032b657004220420e3d0a378dfa7e81e179d0d476f76d35c58217c13248b9cf15949c2070a8b5d9b"}]},r=Object(a.useReducer)(F,n),o=Object(O.a)(r,2),i=o[0],s=o[1],u={deleteAccount:function(e){s({type:"accountDeleted",payload:e})},addAccount:function(e){s({type:"accountAdded",payload:e})},selectAccount:function(e){s({type:"accountSelectionChanged",payload:e})}};return Object(c.jsx)(J.Provider,{value:i,children:Object(c.jsx)(z.Provider,{value:u,children:t})})},U=function(e){var t=e.accountId,n=e.accountsList,r=Object(a.useState)(!1),o=Object(O.a)(r,2),i=o[0],s=o[1],u=function(){return s(!1)},d=function(){var e=Object(a.useContext)(z);if(void 0===e)throw new Error("useAccountsManagerDispatch must be used whithin AccountsManagerProvider");return e}(),l=function(e){d.selectAccount(e),u()},j=function(e){d.deleteAccount(e)};return Object(c.jsxs)(c.Fragment,{children:[t?Object(c.jsx)(p.a,{onClick:function(){return l()},variant:"contained",color:"secondary",children:"Disconnect"}):Object(c.jsx)(p.a,{onClick:function(){return s(!0)},variant:"contained",color:"primary",children:"Connect"}),Object(c.jsxs)(w.a,{onClose:u,open:i,children:[Object(c.jsx)(k.a,{align:"center",children:"Accounts"}),Object(c.jsx)(T.a,{children:Object(c.jsxs)(g.a,{children:[n.map((function(e){return Object(c.jsx)(N,{handleSelectAccount:l,handleDeleteAccount:j,walletKeys:e},e.accountId)})),Object(c.jsx)(L,{handleAddAccount:function(e){d.addAccount(e)}})]})})]})]})},V=n(52),_=n(226),Q=n(217),X=n(6),Y=n.n(X),Z=n(9),$=n(35),ee=function(e,t){var n=Object(V.b)().client,c=function(e){var t=Object(a.useState)(),n=Object(O.a)(t,2),c=n[0],r=n[1];return{accountBalance:c,requestBalance:function(){var t=Object(Z.a)(Y.a.mark((function t(n){var c,a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=4;break}return console.warn("Client and AccountId required to request balance"),r(),t.abrupt("return");case 4:return t.prev=4,r("loading"),t.next=8,(new $.a).setAccountId(n).execute(e);case 8:c=t.sent,a=c.hbars.toString(),r({value:a}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),r("error"),console.error(" [Error requesting balance] ",t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}()}}(n),r=c.accountBalance,o=c.requestBalance;return Object(a.useEffect)((function(){o(e)}),[n,e,t]),r},te=function(e){var t=e.accountId,n=e.refreshBalanceFlag,a=e.triggerRefreshBalance,r=ee(t,n);return Object(c.jsx)(v.a,{children:Object(c.jsx)(_.a,{title:"Click To Refresh Balance",arrow:!0,children:Object(c.jsxs)(u.a,{align:"center",variant:"h5",onClick:function(){t&&"loading"!==r&&a()},children:["loading"===r&&Object(c.jsx)(Q.a,{}),"error"===r&&"error",(null===r||void 0===r?void 0:r.value)&&"".concat(r.value)]})})})},ne=n(94),ce=n(97),ae=n(98),re=n.n(ae),oe=n(100),ie=n.n(oe),se=n(99),ue=n.n(se),de=Object(d.a)((function(){return{qrCode:{width:200,height:200}}})),le=function(e){var t=e.accountId,n=de(),r=Object(a.useState)(!1),o=Object(O.a)(r,2),i=o[0],s=o[1],u=Object(a.useState)("Copy to clipboard"),d=Object(O.a)(u,2),l=d[0],j=d[1];return Object(c.jsxs)(v.a,{children:[Object(c.jsx)(p.a,{disabled:!t,fullWidth:!0,onClick:function(){return s(!0)},variant:"contained",color:"primary",endIcon:Object(c.jsx)(ue.a,{}),children:"Receive"}),Object(c.jsxs)(w.a,{className:n.utilFlexCenter,open:i,onClose:function(){return s(!1)},children:[Object(c.jsx)(k.a,{align:"center",children:"Public Key"}),Object(c.jsx)(T.a,{children:Object(c.jsx)(re.a,{className:n.qrCode,value:t,level:"H",includeMargin:!0,renderAs:"svg"})}),Object(c.jsx)(B.a,{children:Object(c.jsx)(_.a,{title:l,arrow:!0,onClose:function(){return setTimeout((function(){return j("Copy to clipboard")}),200)},children:Object(c.jsx)(ce.CopyToClipboard,{text:t,onCopy:function(){return j("Copied!")},children:Object(c.jsx)(p.a,{fullWidth:!0,endIcon:Object(c.jsx)(ie.a,{}),variant:"outlined",children:t})})})})]})]})},je=n(218),be=n(101),Oe=n.n(be),he=function(e){var t=e.accountId;return Object(c.jsx)(v.a,{children:Object(c.jsxs)(je.a,{container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(c.jsx)(je.a,{item:!0,children:Object(c.jsx)(y.a,{children:t?Object(c.jsx)(W.a,{seed:t}):Object(c.jsx)(Oe.a,{})})}),Object(c.jsx)(je.a,{item:!0,children:Object(c.jsx)(u.a,{children:t||"Disconnected"})})]})})},fe=n(102),xe=n.n(fe),ve=function(){return Object(c.jsx)(p.a,{variant:"outlined",disabled:!0,endIcon:Object(c.jsx)(xe.a,{}),children:"Testnet"})},pe=Object(d.a)((function(e){return{walletContent:{maxWidth:555,padding:e.spacing(8,2,6)},utilSpread:{display:"flex",justifyContent:"space-between"}}})),ge=function(){var e=function(){var e=Object(a.useContext)(J);if(void 0===e)throw new Error("useAccountsManagerState must be used whithin AccountsManagerProvider");return e}(),t=e.accountSelected,n=e.accountsList,r=Object(a.useState)(!1),o=Object(O.a)(r,2),i=o[0],s=o[1],u=function(){return s((function(e){return!e}))},d=pe();return Object(c.jsx)(V.a,{accountSelected:t,children:Object(c.jsx)(v.a,{className:d.walletContent,children:Object(c.jsxs)(h.a,{children:[Object(c.jsxs)(f.a,{className:d.utilSpread,children:[Object(c.jsx)(ve,{}),Object(c.jsx)(U,{accountId:t.accountId,accountsList:n})]}),Object(c.jsx)(x.a,{}),Object(c.jsx)(f.a,{children:Object(c.jsx)(he,{accountId:t.accountId})}),Object(c.jsx)(f.a,{children:Object(c.jsx)(te,{refreshBalanceFlag:i,triggerRefreshBalance:u,accountId:t.accountId})}),Object(c.jsxs)(f.a,{className:d.utilSpread,children:[Object(c.jsx)(ne.a,{triggerRefreshBalance:u,accountId:t.accountId}),Object(c.jsx)(le,{accountId:t.accountId})]})]})})})},me=n(103),Ce=n(222),ye=n(223),Ae={palette:{type:"dark"}},Ie=function(e){var t=e.children,n=Object(a.useMemo)((function(){return Object(me.a)(Ae)}),[]);return Object(c.jsxs)(Ce.a,{theme:n,children:[Object(c.jsx)(ye.a,{}),t]})},Se=n(43),we=(n(158),function(){return Object(c.jsx)(Ie,{children:Object(c.jsxs)(G,{children:[Object(c.jsx)(b,{}),Object(c.jsx)(ge,{}),Object(c.jsx)(Se.a,{})]})})});n(159),n(160);o.a.render(Object(c.jsx)(we,{}),document.getElementById("root"))},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var c=n(23),a=n(8),r=n(69),o=n(2),i=n(0),s=n(35),u=Object(i.createContext)(),d=function(){var e=Object(i.useContext)(u);if(!e)throw new Error("useHederaClient must be used within a HederaClientProvider");return e},l=function(e){var t=e.children,n=e.accountSelected,d=Object(r.a)(e,["children","accountSelected"]),l=Object(i.useState)({client:null,error:""}),j=Object(a.a)(l,2),b=j[0],O=j[1];return Object(i.useEffect)((function(){if(n.accountId){try{var e=n.accountId,t=n.privateKey,c=s.b.forTestnet();c.setOperator(e,t),O({client:c,error:""}),console.log("Client connected")}catch(a){console.error("HederaClientProvider error"),O({client:null,error:"Couldn't connect to testnet"})}return function(){return console.log("Client disconnected")}}}),[n]),Object(o.jsx)(u.Provider,Object(c.a)(Object(c.a)({value:b},d),{},{children:t}))}},94:function(e,t,n){"use strict";(function(e){var c=n(8),a=n(2),r=n(0),o=n(166),i=n(107),s=n(108),u=n(96),d=n.n(u),l=n(169),j=n(163),b=n(164),O=n(165),h=n(44),f=n(167),x=n(52),v=n(95),p=n(43);t.a=function(t){var n=t.accountId,u=t.triggerRefreshBalance,g=Object(r.useState)(!1),m=Object(c.a)(g,2),C=m[0],y=m[1],A=Object(r.useState)(""),I=Object(c.a)(A,2),S=I[0],w=I[1],k=Object(r.useState)(""),T=Object(c.a)(k,2),B=T[0],E=T[1],R=Object(x.b)().client,q=Object(v.a)(R),H=q.transactionState,D=q.broadcastTransaction;!function(t){Object(r.useEffect)((function(){if("broadcasting..."===t)return p.b.info("Broadcast transaction...");if("broadcasted!"===t)return p.b.info("Transaction broadcasted!");if("error"===t)return p.b.error("Transaction failed!");if(null===t||void 0===t?void 0:t.transactionRecord){var n=t.transactionRecord.transactionHash,c=e.from(n).toString("hex"),r="https://testnet.dragonglass.me/hedera/search?q=".concat(c);return p.b.success(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.a,{children:"Transaction succeded"}),Object(a.jsx)(f.a,{rel:"noopener",target:"_blank",href:r,children:"Go to HederaExplorer"})]}))}}),[t])}(H);var P=function(){y(!1)},W=function(){D({sender:{accountId:n,tokenAmount:S},receiver:B},u),w(""),E(""),P()},K=!(S&&B);return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(i.a,{disabled:!n,fullWidth:!0,onClick:function(){y(!0)},variant:"contained",color:"primary",endIcon:Object(a.jsx)(d.a,{}),children:"Send"}),Object(a.jsxs)(l.a,{open:C,onClose:P,children:[Object(a.jsx)(j.a,{align:"center",children:"Send Hbar"}),Object(a.jsxs)(b.a,{onSubmit:W,noValidate:!0,children:[Object(a.jsx)(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"amount",label:"Amount",name:"amount",onChange:function(e){var t=e.target.value;w(t)},value:S}),Object(a.jsx)(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"toAddress",label:"To address",name:"toAddress",onChange:function(e){var t=e.target.value;E(t)},value:B})]}),Object(a.jsx)(O.a,{children:Object(a.jsx)(i.a,{onClick:W,disabled:K,variant:"contained",color:"primary",size:"large",children:"Send"})})]})]})}}).call(this,n(84).Buffer)},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(6),a=n.n(c),r=n(9),o=n(8),i=n(0),s=n(35),u=function(e){var t=Object(i.useState)(),n=Object(o.a)(t,2),c=n[0],u=n[1];return{transactionState:c,broadcastTransaction:function(){var t=Object(r.a)(a.a.mark((function t(n,c){var r,o,i,d,l,j;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.sender,o=n.receiver,i=-1*r.tokenAmount,d=r.tokenAmount,t.prev=3,u("broadcasting..."),t.next=7,(new s.d).addHbarTransfer(r.accountId,s.c.fromTinybars(i)).addHbarTransfer(o,s.c.fromTinybars(d)).execute(e);case 7:return l=t.sent,u("broadcasted!"),t.next=11,l.getRecord(e);case 11:j=t.sent,u({transactionRecord:j}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),console.error("Tx failed!",t.t0),u("error");case 19:c();case 20:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e,n){return t.apply(this,arguments)}}()}}}},[[161,1,2]]]);
//# sourceMappingURL=main.8a57a367.chunk.js.map